---
import type { AuthorsEntry } from "@/types";
import AuthorCard from "@components/AuthorCard.astro";
import AuthorGroup from "@layouts/AuthorGroup.astro";
import { getSinglePages } from "@/lib/contentParser.astro";
import { getEntry } from "astro:content";

const authorIndex = await getEntry("authors", "-index");
const authors: AuthorsEntry[] = await getSinglePages("authors");
---

<AuthorGroup data={authorIndex.data}>
  {
    authors.map((author) => (
      <AuthorCard data={author} />
    ))
  }
</AuthorGroup>
