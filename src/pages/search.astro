---
import type { SearchableEntry } from "@/types";
import Base from "@layouts/Base.astro";
import SearchComponent from "@components/Search";
import { getEntriesBatch } from "@/lib/contentParser";
import { settings } from "@/config/config.json";
import type { CollectionKey } from "astro:content";

const collectionList = settings.searchable_collections as CollectionKey[]
const searchList: SearchableEntry[] = await getEntriesBatch(collectionList);
---

<Base title="Search">
  <SearchComponent client:load searchList={searchList} />
</Base>
