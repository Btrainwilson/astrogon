---
const { headings } = Astro.props;
---

<nav class="max-h-screen overflow-y-auto mx-8 border-l border-light dark:border-darkmode-light">
  <div class="mx-4 my-8">
    <h3 class="my-4">On This Page</h3>
    {
      headings &&
        headings.map((heading) => {
          let className = `block p-1 mb-1 rounded hover:bg-theme-light dark:hover:bg-darkmode-theme-light `;
          const sizeAndIndent = {
            1: `pl-0 text-2xl`,
            2: `pl-2 text-xl`,
            3: `pl-4 text-lg`,
            4: `pl-6 text-base`,
            5: `pl-8 text-sm`,
            6: `pl-10 text-xs`,
          };
          className += sizeAndIndent[heading.depth] || "";
          return (
            <p>
              <a href={`#${heading.slug}`} class={className}>
                {heading.text}
              </a>
            </p>
          );
        })
    }
  </div>
</nav>
